<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="preconnect" href="https://fonts.gstatic.com"> 
<link href="https://fonts.googleapis.com/css2?family=Aref+Ruqaa:wght@700&display=swap" rel="stylesheet">
<link rel="preconnect" href="https://fonts.gstatic.com"> 
<link href="https://fonts.googleapis.com/css2?family=Open+Sans&family=Roboto+Condensed&display=swap" rel="stylesheet">

<title>WebGL</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<style>
	body {
		color: #fff;
		background: #2D2727;
		font-family: 'Roboto', sans-serif;
    text-align: center;
	}
  
  h1{
    color: #187F8C;
    font-size: 55px;
    font-family: 'Aref Ruqaa', serif;
    
  }
  .btn1 {
    font-family: 'Roboto Condensed', sans-serif;
    background-color: #554C4C;
    border: none;
    color: white;
    padding: 2px 30px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    margin: 4px 2px;
    cursor: pointer;
} 
</style>

<! -- THEE.JS bibliotēku importēšana -->
        <script src="libs/three.js"></script>
        <script src="libs/dat.gui.js"></script>
        <script src="libs/three.min.js"></script>
        <script src="libs/three.module.js"></script>
        <script src="libs/OrbitControls.js"></script>  
        <! -- JQUERY bibliotēku importēšana -->
        <script src="https://code.jquery.com/jquery-2.2.4.js"></script> 

</head>
<!------------Body------------>
<body>
<br><br>
<h1>3D TEXT VIEWER </h1>
<div class="button">
  <button class="btn1" type="submit" onclick="TakeMeToBack()"> Back </br> <<< </button>
  <button class="btn1" type="submit" onclick="TakeMeToNext()">Next </br> >>> </button>
</div><br><br>

<div class="container">
  <script>     
    var scene = new THREE.Scene();
    scene.background = new THREE.Color(0xFFFFFF);

    var camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);
    camera.position.z = 5;
    camera.position.y = 5;
    camera.position.x = 5;
    camera.lookAt(new THREE.Vector3(0,0,0)); // Make the camera look at the point of origin

    var renderer = new THREE.WebGLRenderer({antialias:true});
    var devicePixelRatio = window.devicePixelRatio || 1; // To handle high pixel density displays

    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild( renderer.domElement );

    var render = function () {
    requestAnimationFrame( render );
    renderer.render(scene, camera);

    };

    // instantiate a texture loader
    var loader = new THREE.TextureLoader();
    //allow cross origin loading
    loader.crossOrigin = '';

    // The textures to use
    var arr = [
    'https://s3-us-west-2.amazonaws.com/s.cdpn.io/259155/THREE_gates.jpg',
    'https://s3-us-west-2.amazonaws.com/s.cdpn.io/259155/THREE_crate1.jpg',
    'https://s3-us-west-2.amazonaws.com/s.cdpn.io/259155/THREE_crate2.jpg'
    ];
    var textureToShow = 0;

    // Instantiate the material we will be using
    var material = new THREE.MeshBasicMaterial();
    // Instantiate a geometry to use
    var geometry = new THREE.BoxGeometry( 1, 1, 1 );
    // Instatiate the mesh with the geometry and material
    var cube = new THREE.Mesh( geometry, material );
    cube.position.y = 0.5;

    // Then load the texture
    loader.load(arr[textureToShow], function(tex) {
    // Once the texture has loaded
    // Asign it to the material
    material.map = tex;
    // Update the next texture to show
    textureToShow++;
    // Add the mesh into the scene
    scene.add( cube );
    });


    // Click interaction
    var canvas = document.getElementsByTagName("canvas")[0];

    canvas.addEventListener("click", function() {
        loader.load(arr[textureToShow], function(tex) {
            // Once the texture has loaded
            // Asign it to the material
            material.map = tex;
            // Update the next texture to show
            textureToShow++;
            // Have we got to the end of the textures array
            if(textureToShow > arr.length-1) {
                textureToShow = 0;
            }
            
        }); 
    });
    // Start rendering the scene
    render();
</script>

</div>
<script>
function TakeMeToBack() {
  //location.replace("http://localhost:8080/WEB/index.html")
  location.replace("index.html")
} 
function TakeMeToNext() {
  //location.replace("http://localhost:8080/WEB/TextureEditor.html")
  location.replace("TextureEditor.html")
} 
</script>
</body>
</html>
